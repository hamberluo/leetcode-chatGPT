题目编号：201

题目：数字范围按位与

难度：中等

考察范围：位运算

题干：

给定范围 [m, n]，其中 0 <= m <= n <= 2147483647，返回此范围内所有数字的按位与（包含 m, n 两端点）。

示例 1:

输入: [5,7]
输出: 4

示例 2:

输入: [0,1]
输出: 0

解题思路：

题目要求我们求出一个区间内所有数字的按位与，我们可以先来看一下按位与的定义：

按位与（&）：两个数的二进制位进行与运算，只有当两个数的二进制位都为 1 时，结果才为 1，否则为 0。

我们可以先将 m 和 n 转换成二进制，然后从高位开始比较，如果 m 和 n 的二进制位不同，那么这一位及其后面的所有位的按位与结果都为 0，因为这些位上的数字必定包含了 m 和 n 之间的所有数字，而这些数字的按位与结果必定为 0。如果 m 和 n 的二进制位相同，那么这一位的按位与结果就是这个相同的二进制位，然后继续比较下一位。

解决方案：

```solidity
pragma solidity ^0.8.0;

contract Solution {
    function rangeBitwiseAnd(uint256 m, uint256 n) public pure returns (uint256) {
        uint256 shift = 0;
        while (m < n) {
            m >>= 1;
            n >>= 1;
            shift++;
        }
        return m << shift;
    }
}
```

算法复杂度：时间复杂度为 O(log n)，空间复杂度为 O(1)。