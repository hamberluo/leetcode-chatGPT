题目编号：202

题目：快乐数

难度：简单

考察的知识点：哈希表、数学

题干：

编写一个算法来判断一个数 n 是不是快乐数。

「快乐数」定义为：

对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和。
然后重复这个过程直到这个数变为 1，也可能是 无限循环 但始终变不到 1。
如果 可以变为 1，那么这个数就是快乐数。
如果 n 是快乐数就返回 true ；不是，则返回 false 。

典型解题思路：

1. 定义一个哈希表，用于存储已经出现过的数字
2. 将输入的数字 n 转换为字符串，然后遍历字符串中的每个字符，将其转换为数字并计算平方和
3. 如果平方和为 1，则返回 True
4. 如果平方和已经在哈希表中出现过，则说明进入了循环，返回 False
5. 如果平方和不为 1，也没有出现在哈希表中，则将其加入哈希表中，并继续进行计算，重复步骤 2-5

解决方案（用 python 语言）：

```python
class Solution:
    def isHappy(self, n: int) -> bool:
        seen = set()  # 定义一个哈希表，用于存储已经出现过的数字
        while n != 1:
            n = sum(int(i) ** 2 for i in str(n))  # 计算平方和
            if n in seen:  # 如果平方和已经在哈希表中出现过，则说明进入了循环，返回 False
                return False
            seen.add(n)  # 如果平方和不为 1，也没有出现在哈希表中，则将其加入哈希表中
        return True  # 如果平方和为 1，则返回 True
```

算法复杂度：

时间复杂度：$O(log n)$，其中 n 是输入数字。在每次迭代中，我们都会将数字 n 拆分成数字位上的平方和，因此输入数字经过 k 次迭代后，其值将小于 $10^{2^k}$。由于这里的操作数是数字 n 的位数，因此我们需要执行 $O(log n)$ 次迭代。在实际情况下，由于我们不会计算非常大的 n 的平方和，因此迭代次数不会太高。

空间复杂度：$O(log n)$，在每次迭代中，我们需要存储数字 n 的平方和，而平方和的位数与 n 的位数相当。由于平方和取决于 n，因此最坏情况下可能需要 $O(log n)$ 的空间。