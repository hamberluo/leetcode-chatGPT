题目编号：65

题目：有效数字

难度：困难

考察的知识点：字符串、正则表达式

题干：

给定一个字符串 s ，请判断是否能够通过以下规则将其转换为一个有效的数字：

1.  （可选）一个 '+' 或 '-' 符号
2.  至少一个数字
3.  （可选）一个小数点 '.'
4.  （可选）一个 'e' 或 'E' ，后面跟着一个整数

示例 1：

输入：s = "0"
输出：true

示例 2：

输入：s = "e"
输出：false

示例 3：

输入：s = "."
输出：false

示例 4：

输入：s = "    .1  "
输出：true

典型解题思路：

1. 首先去除字符串两端的空格
2. 判断字符串是否为空，如果为空则返回 False
3. 判断字符串是否以正负号开头，如果是则将其删除
4. 判断字符串是否包含小数点，如果是则将其删除
5. 判断字符串是否包含 e 或 E，如果是则将其删除
6. 判断字符串是否为空，如果为空则返回 False
7. 判断字符串是否只包含数字，如果是则返回 True，否则返回 False

解决方案（用 python 语言）：

```python
import re

class Solution:
    def isNumber(self, s: str) -> bool:
        s = s.strip()  # 去除两端空格
        if not s:  # 判断字符串是否为空
            return False
        if s[0] in ['+', '-']:  # 判断字符串是否以正负号开头
            s = s[1:]
        if '.' in s:  # 判断字符串是否包含小数点
            s = s.replace('.', '', 1)
        if 'e' in s or 'E' in s:  # 判断字符串是否包含 e 或 E
            s = re.sub('[eE][+-]?', '', s)
        if not s.isdigit():  # 判断字符串是否只包含数字
            return False
        return True
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)，其中 n 为字符串 s 的长度。