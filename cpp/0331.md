题目编号：331

题目：验证二叉树的前序序列化

难度：中等

考察范围：树、栈

题干：给定一个字符串，判断该字符串是否是一个二叉树的前序序列化。假设该二叉树是满足以下条件的：

1. 根节点没有左子树，只有右子树。
2. 所有的空节点都用 "#" 表示。

例如，字符串 "9,3,4,#,#,1,#,#,2,#,6,#,#" 是一个二叉树的前序序列化，其中 "#" 表示空节点，"," 分隔节点。

解题思路：对于二叉树的前序遍历，我们可以使用栈来模拟。遍历到一个节点时，如果它是一个非空节点，就将它入栈；如果它是一个空节点，就判断栈顶元素是否为 "#"，如果是，就将栈顶元素出栈，并将当前节点入栈，直到栈顶元素不为 "#"。最后，如果栈中只剩下一个元素，且为 "#"，则说明该字符串是一个合法的二叉树前序序列化。

解决方案：

```cpp
class Solution {
public:
    bool isValidSerialization(string preorder) {
        stack<string> s;
        stringstream ss(preorder);
        string node;
        while (getline(ss, node, ',')) {
            while (!s.empty() && node == "#" && s.top() == "#") {
                s.pop();
                if (s.empty()) return false;
                s.pop();
            }
            s.push(node);
        }
        return s.size() == 1 && s.top() == "#";
    }
};
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。其中，n 为字符串的长度。