题目编号：365

题目：水壶问题

难度：中等

考察范围：DFS、数学

题干：有两个容量分别为 x 升 和 y 升 的水壶以及无限多的水。请判断能否通过使用这两个水壶，从而可以得到恰好 z 升 的水？

如果可以，最后请用以上水壶中的一或两个来盛放取得的 z 升 水。

你允许：

装满任意一个水壶
清空任意一个水壶
从一个水壶向另外一个水壶倒水，直到装满或者倒空

解题思路：这是一道典型的数学问题，可以使用数学方法解决。我们可以使用裴蜀定理来判断是否有解。裴蜀定理指出，对于任何整数 a、b 和它们的最大公约数 d，关于未知数 x 和 y 的线性不定方程（称为裴蜀等式）：

ax + by = d

有整数解当且仅当 d 是 a 和 b 的最大公约数的倍数。因此我们只需要判断 z 是否是 x 和 y 的最大公约数的倍数即可。

解决方案：

```cpp
class Solution {
public:
    int gcd(int a, int b) {
        return b == 0 ? a : gcd(b, a % b);
    }

    bool canMeasureWater(int x, int y, int z) {
        if (x + y < z) {
            return false;
        }
        if (x == z || y == z || x + y == z) {
            return true;
        }
        return z % gcd(x, y) == 0;
    }
};
```

算法复杂度：时间复杂度为 O(log(min(x, y)))，空间复杂度为 O(1)。