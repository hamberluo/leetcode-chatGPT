题目编号：932

题目：漂亮数组

难度：中等

考察范围：分治、数学

题干：给定一个正整数 n，返回一个漂亮数组 nums。如果存在多种漂亮数组，则返回任意一个即可。

漂亮数组满足：对于每个 i < j，都不存在 k 满足 i < k < j 使得 nums[k] * 2 = nums[i] + nums[j]。

解题思路：分治

首先，我们可以发现，如果一个数组 nums 是漂亮数组，那么将其每个元素乘以一个常数 c 后，得到的数组 c * nums 也是漂亮数组。

其次，我们可以将一个漂亮数组分成两个子数组，分别是奇数下标和偶数下标的元素。因为如果一个漂亮数组 nums 满足 i < j 且 nums[k] * 2 = nums[i] + nums[j]，那么 k 只能是奇数下标或偶数下标。

所以，我们可以先构造出一个漂亮数组 A，然后将其奇数下标和偶数下标分别构造成漂亮数组 B 和 C，最后将 B 和 C 合并起来即可。

具体实现时，我们可以使用分治的思想，先构造出一个长度为 n 的漂亮数组 A，然后将其奇数下标和偶数下标分别构造成漂亮数组 B 和 C，最后将 B 和 C 合并起来即可。

构造漂亮数组 A 的方法如下：

- 当 n = 1 时，A = [1]；
- 当 n > 1 时，将 1 到 n 中的奇数和偶数分别构造成漂亮数组 A1 和 A2，然后将 A1 和 A2 合并起来得到漂亮数组 A。

构造漂亮数组 B 和 C 的方法如下：

- 对于漂亮数组 B，将 A 中的奇数下标构造成漂亮数组 B1，将 A 中的偶数下标构造成漂亮数组 B2，然后将 B1 和 B2 合并起来得到漂亮数组 B；
- 对于漂亮数组 C，将 A 中的奇数下标构造成漂亮数组 C1，将 A 中的偶数下标构造成漂亮数组 C2，然后将 C1 和 C2 合并起来得到漂亮数组 C。

最后，将漂亮数组 B 和 C 合并起来即可。

解决方案：

```cpp
class Solution {
public:
    vector<int> beautifulArray(int n) {
        vector<int> res;
        if (n == 1) {
            res.push_back(1);
            return res;
        }
        vector<int> A1 = beautifulArray((n + 1) / 2);
        vector<int> A2 = beautifulArray(n / 2);
        for (int i : A1) {
            res.push_back(i * 2 - 1);
        }
        for (int i : A2) {
            res.push_back(i * 2);
        }
        return res;
    }
};
```

算法复杂度：时间复杂度为 O(nlogn)，空间复杂度为 O(n)。