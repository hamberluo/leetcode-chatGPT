题目编号：96

题目：不同的二叉搜索树

难度：中等

考察范围：动态规划、二叉搜索树

题干：

给定一个整数 n，求以 1 ... n 为节点组成的二叉搜索树有多少种？

示例:

输入: 3
输出: 5
解释:
给定 n = 3, 一共有 5 种不同结构的二叉搜索树:
   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3

解题思路：

题目要求计算以 1 ... n 为节点组成的二叉搜索树的数量，可以使用动态规划来解决。

假设 G(n) 表示以 1 ... n 为节点组成的二叉搜索树的数量，F(i, n) 表示以 i 为根节点，1 ... n 为节点组成的二叉搜索树的数量，则有：

G(n) = F(1, n) + F(2, n) + ... + F(n, n)

对于 F(i, n)，可以将 1 ... n 分为左子树和右子树两部分，左子树的节点范围为 1 ... i-1，右子树的节点范围为 i+1 ... n。则有：

F(i, n) = G(i-1) * G(n-i)

即以 i 为根节点，1 ... n 为节点组成的二叉搜索树的数量等于左子树的数量乘以右子树的数量。

综上所述，可以得到动态规划的转移方程：

G(n) = G(0) * G(n-1) + G(1) * G(n-2) + ... + G(n-1) * G(0)

其中 G(0) = 1，G(1) = 1。

解决方案：

```cpp
class Solution {
public:
    int numTrees(int n) {
        vector<int> G(n+1, 0);
        G[0] = 1;
        G[1] = 1;
        for (int i = 2; i <= n; i++) {
            for (int j = 1; j <= i; j++) {
                G[i] += G[j-1] * G[i-j];
            }
        }
        return G[n];
    }
};
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(n)。