题目编号：769

题目：最多能完成排序的块

难度：中等

考察范围：数组、贪心算法

题干：给定一个数组 `arr`，其中有 `n` 个元素，现在需要将其划分为若干个块，每个块内的元素可以任意排序，但是不能跨块排序。问最多能划分成多少块。

解题思路：贪心算法

对于一个块内的元素，如果这个元素的值比这个块内其他元素的最大值还要大，那么这个元素一定不能和其他元素在同一个块内，因为这个元素的值比其他块内的元素都要大，所以这个元素一定是一个新的块的最小值。

因此，我们可以遍历整个数组，维护一个当前块的最大值 `max`，如果当前元素的值比 `max` 大，那么就需要将当前块划分为一个新的块，同时更新 `max` 的值。

解决方案：

```kotlin
class Solution {
    fun maxChunksToSorted(arr: IntArray): Int {
        var max = 0
        var count = 0
        for (i in arr.indices) {
            max = maxOf(max, arr[i])
            if (max == i) {
                count++
            }
        }
        return count
    }
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)。