题目编号：991

题目：坏了的计算器

难度：中等

考察范围：数学、贪心算法

题干：在显示着数字的坏计算器上，我们可以执行以下两种操作：

双倍（Double）：将显示屏上的数字乘 2；
递减（Decrement）：将显示屏上的数字减 1 。
最初，计算器显示数字 X。

返回显示数字 Y 所需的最小操作数。

解题思路：贪心算法

我们可以从 Y 开始，逆向模拟计算器的操作，每次只考虑将 Y 变为 Y/2 或 Y+1。

当 X>Y 时，我们唯一能做的操作只有将 X-1，因为不能执行双倍操作。

当 X<=Y 时，如果 Y 是偶数，那么下一步有两种操作方法：一种是将 Y 变为 Y/2，另一种是将 Y 变为 Y+1。显然，如果 Y 可以被 2 整除，那么将 Y 变为 Y/2 的操作次数一定比将 Y 变为 Y+1 的操作次数少，因为前者不需要执行减法操作，而后者需要执行一次减法操作。

如果 Y 是奇数，那么只能执行减法操作，而不能执行除法操作，因为除法操作会使结果不是整数。此时，我们将 Y 加上 1，使其变为偶数，再执行除法操作即可。

解决方案：

```kotlin
class Solution {
    fun brokenCalc(X: Int, Y: Int): Int {
        var count = 0
        var y = Y
        while (y > X) {
            count++
            if (y % 2 == 0) {
                y /= 2
            } else {
                y += 1
            }
        }
        return count + X - y
    }
}
```

算法复杂度：时间复杂度为 O(log(Y-X))，空间复杂度为 O(1)。