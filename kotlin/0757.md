题目编号：757

题目：设置交集大小至少为2

难度：困难

考察范围：贪心算法

题干：给定一个由一些区间组成的集合，要求在这个集合中选择一些区间，使得这些区间的交集的大小至少为2，并且选出的区间数最小。输出最小的选区间数。

解题思路：贪心算法

首先将所有区间按照右端点从小到大排序，然后从左到右遍历每个区间，如果当前区间的左端点在前一个区间的右端点之后，则需要选择当前区间，否则不需要选择当前区间。如果当前区间的左端点在前一个区间的右端点之前，则需要选择前一个区间，因为前一个区间的右端点一定在当前区间的右端点之前，所以前一个区间一定包含了当前区间的左端点，选择前一个区间可以保证交集大小至少为2。

解决方案：

```kotlin
class Solution {
    fun intersectionSizeTwo(intervals: Array<IntArray>): Int {
        intervals.sortBy { it[1] } // 按右端点从小到大排序
        var ans = 0
        var p1 = -1 // 上一个区间的右端点
        var p2 = -1 // 上上一个区间的右端点
        for (interval in intervals) {
            if (interval[0] > p1) { // 当前区间的左端点在前一个区间的右端点之后
                ans += 2 // 选择当前区间
                p2 = p1 // 更新上上一个区间的右端点
                p1 = interval[1] // 更新上一个区间的右端点
            } else if (interval[0] > p2) { // 当前区间的左端点在前一个区间的右端点之前，但在上上一个区间的右端点之后
                ans += 1 // 选择当前区间
                p2 = p1 // 更新上上一个区间的右端点
                p1 = interval[1] // 更新上一个区间的右端点
            }
        }
        return ans
    }
}
```

算法复杂度：时间复杂度为 O(nlogn)，空间复杂度为 O(1)。