题目编号：774

题目：最小化去加油站的最大距离

难度：困难

考察范围：二分查找、贪心算法

题干：

在一条水平数轴上，有一个车队由 N 辆车组成，第 i 辆车位于位置 x_i，且油箱有无限容量。一辆车从位置 x 出发，以恒定速度 v 行驶于水平数轴上的道路。

在道路上有 M 座加油站。第 i 座加油站位于位置 y_i，可加油量为 z_i。

假设所有加油站足够补给任何车通过该段路程需要的油量。

起始时，第一辆车在起点 x_1，且其油量无限。当第一辆车到达第 i 座加油站时，加满油。其余所有车油量为 0。

我们希望找到一个恰当的加油方案，使得所有车以恒定速度行驶到终点 x_N 时，最多只有最后一辆车的油量为 0。其中，最后一辆车必须到达终点。

给定 N，M，x，y，z 和 v。请编写一个函数来计算车队通过这段路程所需加油的最小数量。

解题思路：

本题可以使用二分查找和贪心算法来解决。

首先，我们可以发现，如果我们知道了加油站之间的距离，那么我们就可以通过二分查找来确定每个加油站加油的次数，从而得到最小加油次数。

因此，我们需要先将加油站按照位置从小到大排序，然后计算出相邻加油站之间的距离。接着，我们可以使用二分查找来确定每个加油站加油的次数。

具体来说，我们可以二分查找一个加油站加油的次数 k，然后判断是否能够在这个加油站加油的情况下，使得所有车都能够到达下一个加油站。如果能够到达下一个加油站，则继续在下一个加油站进行二分查找；否则，在当前加油站加油，然后在下一个加油站进行二分查找。

最后，我们可以得到最小加油次数。

解决方案：

```kotlin
class Solution {
    fun minmaxGasDist(stations: IntArray, K: Int): Double {
        var left = 0.0
        var right = stations[stations.size - 1] - stations[0].toDouble()
        while (left + 1e-6 < right) {
            val mid = (left + right) / 2
            var count = 0
            for (i in 0 until stations.size - 1) {
                count += ((stations[i + 1] - stations[i]) / mid).toInt()
            }
            if (count <= K) {
                right = mid
            } else {
                left = mid
            }
        }
        return left
    }
}
```

算法复杂度：O(N \log D)，其中 D 是加油站之间的最大距离。