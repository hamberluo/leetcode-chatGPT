题目编号：440

题目：字典序的第K小数字

难度：困难

考察范围：数学、二分查找

题干：

给定整数 n 和 k，找到 1 到 n 中字典序第 k 小的数字。

注意：1 ≤ k ≤ n ≤ 109。

示例：

输入:
n: 13   k: 2

输出:
10

解释:
字典序的排列是 [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9]，所以第二小的数字是 10。

解题思路：

首先，我们需要了解什么是字典序。字典序是指在字典中排列的顺序，例如在英文字母表中，a 在 b 的前面，b 在 c 的前面，以此类推。

对于本题，我们需要找到 1 到 n 中字典序第 k 小的数字。我们可以先找到前缀为 1 的数字的个数 count，如果 count >= k，那么第 k 小的数字一定在前缀为 1 的数字中，否则我们需要在前缀为 1 的数字的基础上继续查找。

具体来说，我们可以从 1 开始，计算以 1 为前缀的数字的个数 count，如果 count >= k，那么第 k 小的数字一定在以 1 为前缀的数字中，否则我们需要在以 1 为前缀的数字的基础上继续查找。

如果 count < k，那么我们需要在以 1 为前缀的数字的基础上继续查找。我们可以将前缀变为前缀乘以 10，这样可以得到以前缀为前缀的数字的下一个前缀。例如，如果当前前缀为 13，那么下一个前缀为 130。

我们可以计算以当前前缀为前缀的数字的个数 count2，如果 count + count2 >= k，那么第 k 小的数字一定在以当前前缀为前缀的数字中，否则我们需要在以当前前缀为前缀的数字的基础上继续查找。

具体来说，我们可以将前缀加 1，这样可以得到以当前前缀为前缀的数字的下一个前缀。例如，如果当前前缀为 13，那么下一个前缀为 14。

我们可以计算以当前前缀为前缀的数字的个数 count3，如果 count + count2 + count3 >= k，那么第 k 小的数字一定在以当前前缀加上一个数字为前缀的数字中，否则我们需要在以当前前缀加上一个数字为前缀的数字的基础上继续查找。

具体来说，我们可以将前缀乘以 10，然后加上 1，这样可以得到以当前前缀加上一个数字为前缀的数字的下一个前缀。例如，如果当前前缀为 13，那么下一个前缀为 131。

我们可以重复上述步骤，直到找到第 k 小的数字为止。

解决方案：

```kotlin
class Solution {
    fun findKthNumber(n: Int, k: Int): Int {
        var cur = 1
        var k = k
        while (k > 1) {
            val count = getCount(n, cur.toLong(), (cur + 1).toLong())
            if (count < k) {
                cur++
                k -= count
            } else {
                cur *= 10
                k--
            }
        }
        return cur
    }

    private fun getCount(n: Int, start: Long, end: Long): Int {
        var count = 0
        var s = start
        var e = end
        while (s <= n) {
            count += minOf(n.toLong() + 1, e) - s
            s *= 10
            e *= 10
        }
        return count
    }
}
```

算法复杂度：时间复杂度为 O(log n)，空间复杂度为 O(1)。