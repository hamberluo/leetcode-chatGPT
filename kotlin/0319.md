题目编号：319

题目：灯泡开关

难度：中等

考察范围：数学、逻辑

题干：初始时有 n 个灯泡关闭。第 1 轮，你打开所有的灯泡。第 2 轮，每两个灯泡你关闭一次。第 3 轮，每三个灯泡切换一次开关（如果关闭则打开，如果打开则关闭）。第 i 轮，每 i 个灯泡切换一次开关。对于第 n 轮，你只切换最后一个灯泡的开关。找出 n 轮后有多少个亮着的灯泡。

解题思路：对于第 i 个灯泡，它会在第 j 轮被切换开关，当且仅当 j 是 i 的因数。因此，对于第 i 个灯泡，我们需要找到它的因数个数。如果因数个数是奇数，则最终它是亮着的，否则它是关闭的。因为因数都是成对出现的，只有完全平方数的因数个数是奇数。

解决方案：

```kotlin
class Solution {
    fun bulbSwitch(n: Int): Int {
        return Math.sqrt(n.toDouble()).toInt()
    }
}
```

算法复杂度：时间复杂度为 O(1)，空间复杂度为 O(1)。