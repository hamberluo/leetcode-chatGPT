题目编号：892

题目：三维形体的表面积

难度：简单

考察范围：数组、模拟

题干：给定一个 n * n 的网格，其中每个单元格的值表示该位置的高度。我们将该网格放入一个三维坐标系中，其中第 i 个坐标表示从左侧观察该区域时，第 i 层的高度。我们在其中选择一个下降的方向，同时将高度增加 1。在下降过程中，我们从一个单元格移动到相邻的四个单元格之一（上下左右）。

需要计算出在执行完全部增加高度的指令后，从三个方向（上、前、左）观察该网格时，我们能看到的总表面积。

解题思路：对于每个方块，我们需要计算它的表面积。对于每个方块，它的表面积为 2 + 上下左右四个方向的高度差之和。但是，如果两个方块相邻，那么它们之间的接触面积就会被重复计算。因此，我们需要减去相邻方块之间的接触面积。

解决方案：

```kotlin
class Solution {
    fun surfaceArea(grid: Array<IntArray>): Int {
        val n = grid.size
        var ans = 0
        for (i in 0 until n) {
            for (j in 0 until n) {
                if (grid[i][j] > 0) {
                    ans += 2 // 该方块的顶部和底部的表面积
                    ans += grid[i][j] * 4 // 该方块四个侧面的表面积
                    if (i > 0) {
                        ans -= minOf(grid[i][j], grid[i - 1][j]) * 2 // 减去与上方方块的接触面积
                    }
                    if (j > 0) {
                        ans -= minOf(grid[i][j], grid[i][j - 1]) * 2 // 减去与左方方块的接触面积
                    }
                }
            }
        }
        return ans
    }
}
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(1)。