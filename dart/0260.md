题目编号：260

题目：只出现一次的数字 III

难度：中等

考察范围：位运算

题干：给定一个整数数组 nums，其中恰好有两个元素只出现一次，其余所有元素均出现两次。 找出只出现一次的那两个元素。你可以按任意顺序返回答案。

解题思路：由于数组中只有两个元素出现一次，其余元素均出现两次，因此可以考虑将数组分成两个子数组，每个子数组中只包含一个出现一次的元素，其余元素均出现两次。对于这两个子数组，可以分别使用异或运算找出只出现一次的元素。

具体地，设两个只出现一次的元素为 a 和 b，将所有元素异或得到一个值 x，则 x 为 a 和 b 异或的结果。由于 a 和 b 不相同，因此 x 不为 0，即 x 的二进制至少有一位为 1。该位为 1 表示，在 a 和 b 的二进制下，a 和 b 在该位上不同，a 在该位上为 0，b 在该位上为 1，或者反过来。因此，可以将原数组按照该位是否为 1 分成两个子数组，这样就可以将 a 和 b 分别分到两个子数组中，并且相同的元素一定在一个子数组中。对这两个子数组分别执行异或运算，即可得到 a 和 b。

解决方案：

```dart
class Solution {
  List<int> singleNumber(List<int> nums) {
    int x = 0;
    for (int num in nums) {
      x ^= num;
    }
    int mask = x & (-x);
    int a = 0, b = 0;
    for (int num in nums) {
      if ((num & mask) != 0) {
        a ^= num;
      } else {
        b ^= num;
      }
    }
    return [a, b];
  }
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)。