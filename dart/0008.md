题目编号：8

题目：字符串转换整数 (atoi)

难度：中等

考察的知识点：字符串、模拟

题干：请你来实现一个 atoi 函数，使其能将字符串转换成整数。

函数需要满足：

1. 读入字符串并丢弃无用的前导空格
2. 检查第一个字符（假设还未到字符末尾）为正号 '+' 或负号 '-'
3. 记录正负号，这一步和判断无用的空格步骤可以合并
4. 数字后面可能有其他字符，将其忽略
5. 如果第一个非空字符不是数字或正、负号，则无法转换
6. 如果不能进行有效的转换，则返回 0

注意：

本题中的空白字符只包括空格字符 ' ' 。
假设我们的环境只能存储 32 位大小的有符号整数，那么其数值范围为 [−2^31,  2^31 − 1]。如果数值超过这个范围，请返回  INT_MAX (2^31 − 1) 或 INT_MIN (−2^31) 。

典型解题思路：

1. 首先去掉字符串前面的空格
2. 判断正负号，记录下来
3. 从第一个非空格字符开始遍历，如果是数字则累加到结果中，如果不是数字则跳出循环
4. 判断结果是否超出了 int 范围，如果超出则返回 INT_MAX 或 INT_MIN

解决方案（用 dart 语言）：

```dart
int myAtoi(String s) {
  int i = 0, sign = 1, result = 0;
  // 去掉前面的空格
  while (i < s.length && s[i] == ' ') {
    i++;
  }
  // 判断正负号
  if (i < s.length && (s[i] == '+' || s[i] == '-')) {
    sign = s[i] == '+' ? 1 : -1;
    i++;
  }
  // 遍历数字
  while (i < s.length && s[i].isDigit()) {
    int digit = int.parse(s[i]);
    // 判断是否超出 int 范围
    if (result > (2147483647 - digit) ~/ 10) {
      return sign == 1 ? 2147483647 : -2147483648;
    }
    result = result * 10 + digit;
    i++;
  }
  return result * sign;
}
```

算法复杂度：时间复杂度为 O(n)，其中 n 为字符串的长度。空间复杂度为 O(1)。