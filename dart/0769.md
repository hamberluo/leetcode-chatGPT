题目编号：769

题目：最多能完成排序的块

难度：中等

考察范围：数组、贪心算法

题干：给定一个数组 `arr`，该数组表示一个从 1 到 `n` 的排列。有些元素被替换为其他元素，要求我们找出最多能将其排序的块数。

解题思路：贪心算法

我们可以通过贪心算法来解决这个问题。我们可以从左到右遍历数组，同时维护一个变量 `max` 表示当前遍历到的最大值。对于当前遍历到的位置 `i`，如果 `max` 等于 `i`，那么说明从 `1` 到 `i` 这些数都已经排好序了，可以将它们分为一个块。我们可以用一个变量 `count` 来记录已经分出的块数，每当找到一个新的块时，将 `count` 加一即可。

解决方案：

```dart
int maxChunksToSorted(List<int> arr) {
  int max = 0;
  int count = 0;
  for (int i = 0; i < arr.length; i++) {
    max = max > arr[i] ? max : arr[i];
    if (max == i) {
      count++;
    }
  }
  return count;
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)。