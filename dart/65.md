题目编号：65

题目：有效数字

难度：困难

考察的知识点：字符串、正则表达式

题干：

给定一个字符串 s ，请判断它是否是一个有效的数字。

有效数字（按顺序）可以分成以下几个部分：

1.一个 小数 或者 整数
2.（可选）一个 'e' 或 'E' ，后面跟着一个 整数
小数（按顺序）可以分成以下几个部分：

1.（可选）一个符号字符（'+' 或 '-'）
2.下述格式之一：
    1. 至少一位数字，后面跟着一个点 '.'
    2. 至少一位数字，后面跟着一个点 '.' ，后面再跟着至少一位数字
    3. 一个点 '.' ，后面跟着至少一位数字
整数（按顺序）可以分成以下几个部分：

1.（可选）一个符号字符（'+' 或 '-'）
2. 至少一位数字
部分有效数字列举如下：

["+100", "5e2", "-123", "3.1416", "-1E-16", "0123"]
部分无效数字列举如下：

["12e", "1a3.14", "1.2.3", "+-5", "12e+5.4"]
 

典型解题思路：

1.使用正则表达式匹配字符串，判断是否符合有效数字的格式。
2.根据小数和整数的格式，分别进行匹配。
3.对于小数，可以先判断是否有符号，再判断是否有整数部分，再判断是否有小数点，最后判断是否有小数部分。
4.对于整数，可以先判断是否有符号，再判断是否有数字部分。

解决方案（用 dart 语言）：

```dart
bool isNumber(String s) {
  if (s == null || s.isEmpty) return false;
  s = s.trim();
  RegExp regExp = RegExp(
      r'^[+-]?(\d+(\.\d*)?|\.\d+)([eE][+-]?\d+)?$'); // 正则表达式匹配
  return regExp.hasMatch(s);
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)。