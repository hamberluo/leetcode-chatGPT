题目编号：795

题目：区间子数组个数

难度：中等

考察范围：数组、双指针、滑动窗口

题干：给定一个元素都是正整数的数组A ，正整数 L 以及 R (L <= R)。

求连续、非空且其中最大元素满足大于等于L小于等于R的子数组个数。

解题思路：使用双指针，维护一个滑动窗口，窗口内的最大值如果在[L,R]范围内，则以右指针为结尾的子数组都是符合条件的，累加到结果中。如果窗口内的最大值小于L，则以右指针为结尾的子数组都不符合条件，需要将左指针右移。如果窗口内的最大值大于R，则需要将左指针右移，同时需要将右指针也右移，因为以右指针为结尾的子数组都不符合条件。

解决方案：

```dart
int numSubarrayBoundedMax(List<int> A, int L, int R) {
  int res = 0;
  int left = -1, right = -1;
  for (int i = 0; i < A.length; i++) {
    if (A[i] > R) {
      left = i;
      right = i;
      continue;
    }
    if (A[i] >= L) {
      right = i;
    }
    res += right - left;
  }
  return res;
}
```

算法复杂度：时间复杂度为O(n)，空间复杂度为O(1)。