题目编号：968

题目：监控二叉树

难度：困难

考察范围：二叉树、贪心算法、递归

题干：给定一个二叉树，我们在树的节点上安装摄像头。

节点上的每个摄影头都可以监视其父对象、自身及其直接子对象。

计算监控树的所有节点所需的最小摄像头数量。

解题思路：本题是一道贪心算法的题目，我们需要从叶子节点开始递归，对于每个节点，我们需要考虑三种情况：

1.该节点已经被覆盖，即该节点的子节点中已经有摄像头了，那么该节点就不需要再安装摄像头了。

2.该节点没有被覆盖，但是它的子节点中已经有摄像头了，那么我们可以在该节点上安装摄像头，从而覆盖它的子节点。

3.该节点没有被覆盖，且它的子节点中也没有摄像头，那么我们需要在该节点的父节点上安装摄像头，从而覆盖该节点和它的子节点。

解决方案：

```dart
class Solution {
  int res = 0;

  int minCameraCover(TreeNode root) {
    if (dfs(root) == 0) {
      res++;
    }
    return res;
  }

  // 返回值：
  // 0：该节点未被覆盖，需要在该节点上安装摄像头
  // 1：该节点已经被覆盖，不需要安装摄像头
  // 2：该节点上已经安装了摄像头
  int dfs(TreeNode node) {
    if (node == null) {
      return 1;
    }
    int left = dfs(node.left);
    int right = dfs(node.right);
    if (left == 0 || right == 0) {
      res++;
      return 2;
    } else if (left == 1 && right == 1) {
      return 0;
    } else {
      return 1;
    }
  }
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(h)，其中 n 为节点数，h 为树的高度。