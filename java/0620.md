题目编号：620

题目：有趣的电影

难度：简单

考察范围：SQL

题干：某城市的电影院每天播放许多电影，电影院的电影票都是按照电影的片长不同来进行定价，影片的片长越长，票价就越贵，现在影院的管理者请你编写一个 SQL 语句，查询出所有影片的片名、时长以及该影片的票价。

解题思路：根据题目要求，需要查询出影片的片名、时长以及票价，其中票价需要根据时长计算得出。因此，需要使用到 SQL 中的计算语句，即 SELECT 语句中可以使用算术运算符进行计算。具体而言，可以使用 CASE WHEN 语句根据时长的不同来计算票价。

解决方案：

```sql
SELECT film_name, length, 
CASE 
    WHEN length <= 90 THEN 5
    WHEN length <= 120 THEN 6
    WHEN length <= 150 THEN 7
    ELSE 8
END AS price
FROM cinema;
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)，其中 n 为影片的数量。因为只需要遍历一遍影片表，所以时间复杂度为 O(n)；而空间复杂度为 O(1)，因为只需要使用常数个变量来存储结果。