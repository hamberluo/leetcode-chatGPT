题目编号：885

题目：螺旋矩阵 III

难度：中等

考察范围：数组、模拟

题干：在 R \times C 的矩阵上，我们从 (r0, c0) 面朝东面开始

这里给出一个例子，当 R = 5 且 C = 6 时的螺旋矩阵：

```java
[[1, 2, 3, 4, 5, 6],
 [20, 21, 22, 23, 24, 7],
 [19, 32, 33, 34, 25, 8],
 [18, 31, 36, 35, 26, 9],
 [17, 30, 29, 28, 27, 10]]
```

解题思路：模拟

我们可以按照题目要求，从起始点开始，按照顺序依次访问矩阵中的每个点。具体来说，我们可以从起始点开始，先向东走 1 步，再向南走 1 步，再向西走 2 步，再向北走 2 步，再向东走 3 步……以此类推，直到访问完矩阵中的所有点。

需要注意的是，当我们向某个方向走 k 步之后，下一步就需要向相对的方向走 k+1 步。例如当我们向东走 2 步之后，下一步就需要向西走 3 步。

解决方案：

```java
class Solution {
    public int[][] spiralMatrixIII(int R, int C, int r0, int c0) {
        int[][] res = new int[R * C][2];
        int[][] dirs = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}}; // 方向数组
        int len = 0, d = 0, x = r0, y = c0;
        res[len++] = new int[]{x, y};
        while (len < R * C) {
            if (d == 0 || d == 2) { // 向右或向左走
                for (int i = 1; i <= len / 2 + 1; i++) { // 每次走 len/2+1 步
                    x += dirs[d][0];
                    y += dirs[d][1];
                    if (x >= 0 && x < R && y >= 0 && y < C) { // 判断是否越界
                        res[len++] = new int[]{x, y};
                    }
                }
            } else { // 向上或向下走
                for (int i = 1; i <= len / 2 + 1; i++) { // 每次走 len/2+1 步
                    x += dirs[d][0];
                    y += dirs[d][1];
                    if (x >= 0 && x < R && y >= 0 && y < C) { // 判断是否越界
                        res[len++] = new int[]{x, y};
                    }
                }
            }
            d = (d + 1) % 4; // 改变方向
        }
        return res;
    }
}
```

算法复杂度：时间复杂度为 O(RC)，空间复杂度为 O(RC)。