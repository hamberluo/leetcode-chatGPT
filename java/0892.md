题目编号：892

题目：三维形体的表面积

难度：简单

考察范围：数组、模拟

题干：给定一个 n * n 的网格，其中每个单元格的值表示该位置的高度。我们将该网格放入一个三维坐标系中，其中第 i 个坐标表示从左侧观察该区域时，第 i 层的高度。我们在其中选择一个下降路径，从起点开始到终点结束，每次只能向下或向右走。在每个单元格上，我们将会得到该位置的点数，这些点需要被覆盖在路径过程中。返回我们所选的下降路径经过的点的最大可能总点数。

解题思路：对于每个方块，它的表面积为 2 + 上下左右四个方向相邻方块高度差的绝对值之和。因此，我们可以遍历整个网格，计算每个方块的表面积，并累加得到总表面积。但是，如果两个相邻方块高度相同，则它们之间没有贡献，因此我们需要在计算表面积时特判这种情况。

解决方案：

```java
class Solution {
    public int surfaceArea(int[][] grid) {
        int n = grid.length;
        int res = 0;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                if (grid[i][j] > 0) {
                    res += 2; // 该方块顶部和底部的表面积
                    if (i == 0) {
                        res += grid[i][j]; // 该方块左侧没有相邻方块
                    } else {
                        res += Math.max(0, grid[i][j] - grid[i - 1][j]); // 该方块左侧相邻方块的高度差
                    }
                    if (j == 0) {
                        res += grid[i][j]; // 该方块上方没有相邻方块
                    } else {
                        res += Math.max(0, grid[i][j] - grid[i][j - 1]); // 该方块上方相邻方块的高度差
                    }
                    if (i == n - 1) {
                        res += grid[i][j]; // 该方块右侧没有相邻方块
                    } else {
                        res += Math.max(0, grid[i][j] - grid[i + 1][j]); // 该方块右侧相邻方块的高度差
                    }
                    if (j == n - 1) {
                        res += grid[i][j]; // 该方块下方没有相邻方块
                    } else {
                        res += Math.max(0, grid[i][j] - grid[i][j + 1]); // 该方块下方相邻方块的高度差
                    }
                }
            }
        }
        return res;
    }
}
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(1)。