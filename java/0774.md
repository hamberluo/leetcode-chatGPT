题目编号：774

题目：最小化去加油站的最大距离

难度：困难

考察范围：二分查找、贪心算法

题干：

在一条水平数轴上，有一个车队由 N 辆车组成，第 i 辆车位于位置 x_i，且油箱有无限容量。一辆车从位置 x 出发，以恒定速度 v 行驶于水平数轴上的道路。

在某些位置上有加油站，第 i 个加油站位于位置 y_i，且有油量 gas_i。

假设一辆车从起点出发时油箱为空，且油量无限。如果他到达任何一个加油站，就可以加无限量的油。为了简化问题，假设距离为正无穷的加油站不存在。

设最大行驶距离为 D，则该车在沿路任意加油站加油的情况下，能够到达的最远距离为 D。所以，如果 D 大于等于任一小于 N 的 i 的 x_i，则车能通过该车队。

求出使所有车都能通过车队的最小行驶距离 D。

解题思路：

本题可以使用二分查找来解决。我们可以二分查找最小行驶距离 D，然后判断是否所有车都能通过车队。

对于判断是否所有车都能通过车队，我们可以使用贪心算法。我们从第一辆车开始，假设当前车能够到达的最远距离为 cur，则下一辆车能够到达的最远距离为 cur + D。如果下一辆车的位置超过了 cur + D，则说明当前车无法到达下一辆车的位置，需要在当前位置加油。如果当前车无法到达下一辆车的位置且油量不足以到达任何一个加油站，则说明无法通过车队。

解决方案：

```java
class Solution {
    public double minmaxGasDist(int[] stations, int K) {
        int n = stations.length;
        double left = 0, right = stations[n - 1] - stations[0];
        while (left + 1e-6 < right) {
            double mid = (left + right) / 2;
            int cnt = 0;
            for (int i = 0; i < n - 1; i++) {
                cnt += Math.ceil((stations[i + 1] - stations[i]) / mid) - 1;
            }
            if (cnt <= K) {
                right = mid;
            } else {
                left = mid;
            }
        }
        return left;
    }
}
```

算法复杂度：O(n \log_2 d)，其中 d 为最小行驶距离。