题目编号：319

题目：灯泡开关

难度：中等

考察范围：数学、逻辑思维

题干：

初始时有 n 个灯泡关闭。第 1 轮，你打开所有的灯泡。第 2 轮，每两个灯泡你关闭一次。第 3 轮，每三个灯泡切换一次开关（如果关闭则打开，如果打开则关闭）。第 i 轮，每 i 个灯泡切换一次开关。对于第 n 轮，你只切换最后一个灯泡的开关。找出 n 轮后有多少个亮着的灯泡。

解题思路：

对于第 i 轮，每 i 个灯泡切换一次开关，也就是说，第 i 轮只会改变 i 的倍数位置上的灯泡的状态。因此，我们可以用一个数组来记录每个灯泡的状态，初始值都为 0，表示关闭状态。然后，我们从第 1 轮开始，依次遍历每一轮，将对应位置上的灯泡状态进行改变。最后，我们再遍历一遍数组，统计亮着的灯泡数量即可。

解决方案：

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var bulbSwitch = function(n) {
    // 初始化灯泡状态数组
    var bulbs = new Array(n).fill(0);
    // 遍历每一轮
    for (var i = 1; i <= n; i++) {
        // 遍历每个灯泡
        for (var j = i - 1; j < n; j += i) {
            // 改变灯泡状态
            bulbs[j] = 1 - bulbs[j];
        }
    }
    // 统计亮着的灯泡数量
    var count = 0;
    for (var k = 0; k < n; k++) {
        if (bulbs[k] === 1) {
            count++;
        }
    }
    return count;
};
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(n)。