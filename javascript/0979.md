题目编号：979

题目：在二叉树中分配硬币

难度：中等

考察范围：二叉树、递归、贪心算法

题干：给定一个二叉树，其中每个节点包含一个整数值。在这个二叉树中，每个节点的值表示它所代表的某种硬币的数量。你需要在树的节点之间移动一些硬币，使每个节点只剩下一个硬币。求移动硬币的最小次数。

解题思路：对于每个节点，我们需要计算它需要移动的硬币数量。如果一个节点的硬币数量为 0，那么它需要从它的子节点中获得硬币；如果一个节点的硬币数量为 k > 1，那么它需要将 k - 1 个硬币移动到它的父节点或者它的子节点中。因此，我们可以使用递归的方式，从叶子节点开始计算每个节点需要移动的硬币数量，然后将这些硬币移动到它的父节点或者它的子节点中。

解决方案：

```javascript
var distributeCoins = function(root) {
    let moves = 0;
    const dfs = (node) => {
        if (!node) {
            return 0;
        }
        const left = dfs(node.left);
        const right = dfs(node.right);
        moves += Math.abs(left) + Math.abs(right);
        return node.val + left + right - 1;
    }
    dfs(root);
    return moves;
};
```

算法复杂度：时间复杂度为 O(n)，其中 n 是二叉树中节点的数量。在递归过程中，每个节点最多被访问一次。空间复杂度为 O(h)，其中 h 是二叉树的高度。在递归过程中，系统栈使用的空间取决于二叉树的高度。