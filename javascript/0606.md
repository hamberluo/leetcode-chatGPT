题目编号：606

题目：根据二叉树创建字符串

难度：简单

考察范围：二叉树、字符串拼接

题干：给定二叉树，你需要通过它的前序遍历来构造一个字符串，使得通过括号和数字的组合方式可以完全表达出该二叉树。如果是空节点，则用一对空括号 "()" 表示。而且你需要省略所有不影响字符串与原始二叉树之间的一对一映射关系的空括号对。

例如，二叉树为 [1,2,3,4]，则可以表示为字符串 "1(2(4))(3)"，另一个例子为 [1,2,3,null,4]，则可以表示为 "1(2()(4))(3)"。

解题思路：前序遍历二叉树，对于每个节点，如果它的左右子树都为空，则直接输出节点值；如果它的左子树为空但右子树不为空，则输出一个空括号和右子树的字符串；如果它的左子树不为空但右子树为空，则输出左子树的字符串，不需要输出右括号；如果它的左右子树都不为空，则输出左子树的字符串和右子树的字符串，分别加上左右括号。

解决方案：

```javascript
var tree2str = function(root) {
    if (!root) {
        return '';
    }
    if (!root.left && !root.right) {
        return root.val.toString();
    }
    if (!root.left) {
        return root.val.toString() + '()' + '(' + tree2str(root.right) + ')';
    }
    if (!root.right) {
        return root.val.toString() + '(' + tree2str(root.left) + ')';
    }
    return root.val.toString() + '(' + tree2str(root.left) + ')' + '(' + tree2str(root.right) + ')';
};
```

算法复杂度：时间复杂度为 O(n)，其中 n 是二叉树的节点数，因为需要遍历每个节点。空间复杂度为 O(h)，其中 h 是二叉树的高度，因为需要递归调用函数，函数调用栈的深度最大为二叉树的高度。