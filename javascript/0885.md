题目编号：885

题目：螺旋矩阵 III

难度：中等

考察范围：数组、模拟

题干：在 R \times C 的矩阵上，我们从 (r0, c0) 面朝东面开始

这里给出一个例子，当 R = 5 且 C = 6 时的螺旋矩阵：

```javascript
[[1, 2, 3, 4, 5, 6],
 [20, 21, 22, 23, 24, 7],
 [19, 32, 33, 34, 25, 8],
 [18, 31, 36, 35, 26, 9],
 [17, 30, 29, 28, 27, 10]]
```

解题思路：模拟

我们可以按照题目要求，从起点开始，按照顺序依次访问每个点，直到访问完所有点。

具体来说，我们可以从起点开始，先向东走 1 步，然后向南走 1 步，再向西走 2 步，再向北走 2 步，再向东走 3 步……以此类推，每次向相邻的方向前进的步数都会增加 1，直到无法前进为止。

在具体实现时，我们可以用 dr 和 dc 表示当前前进的方向，初始时 dr=0,dc=1，表示向东前进。每次前进完毕后，我们都需要检查是否需要转向，如果需要，就按照顺时针方向旋转 90 度。

解决方案：

```javascript
var spiralMatrixIII = function(R, C, r0, c0) {
    const res = [[r0, c0]];
    let len = 0, dr = 0, dc = 1, r = r0, c = c0;
    while (res.length < R * C) {
        if (dr === 0 && dc === 1 || dr === 0 && dc === -1) len++; // 每两个方向之间步数增加 1
        for (let i = 0; i < len; i++) { // 按照当前方向前进 len 步
            r += dr;
            c += dc;
            if (r >= 0 && r < R && c >= 0 && c < C) { // 如果当前位置在矩阵内，就加入结果集
                res.push([r, c]);
            }
        }
        if (dr === 0 && dc === 1) { // 向东走完，转向向南
            dr = 1;
            dc = 0;
        } else if (dr === 1 && dc === 0) { // 向南走完，转向向西
            dr = 0;
            dc = -1;
        } else if (dr === 0 && dc === -1) { // 向西走完，转向向北
            dr = -1;
            dc = 0;
        } else if (dr === -1 && dc === 0) { // 向北走完，转向向东
            dr = 0;
            dc = 1;
        }
    }
    return res;
};
```

算法复杂度：时间复杂度 O(RC)，空间复杂度 O(RC)。