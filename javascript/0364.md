题目编号：364

题目：加权嵌套序列和 II

难度：中等

考察范围：深度优先搜索、递归、树

题干：给定一个嵌套的整数列表，请返回该列表按深度加权后所有数字的总和。

每一个元素要么是一个整数，要么是一个列表（其元素也可能是整数或其他列表）。

列表的深度被定义为其中包含的嵌套列表的数量。

例如，输入列表 [1,1]，其深度为 1；而输入列表 [1,[4,[6]]]，其深度为 3。

示例 1：

输入：[[1,1],2,[1,1]]
输出：10 
解释：因为这个列表中有四个深度为 2 的元素，和一个深度为 1 的元素，所以其加权和为 1*1 + 1*1 + 2*2 + 1*1 + 1*1 = 10。

解题思路：本题可以使用深度优先搜索（DFS）来解决。对于每个元素，如果是整数，则将其加入到当前深度的和中；如果是列表，则递归调用 DFS 函数，将深度加一，继续遍历列表中的元素。

解决方案：

```javascript
var depthSumInverse = function(nestedList) {
    let maxDepth = 1; // 最大深度
    let sum = 0; // 总和
    const dfs = (list, depth) => {
        maxDepth = Math.max(maxDepth, depth); // 更新最大深度
        for (let i = 0; i < list.length; i++) {
            if (list[i].isInteger()) { // 如果是整数
                sum += list[i] * (maxDepth - depth); // 加入到当前深度的和中
            } else { // 如果是列表
                dfs(list[i].getList(), depth + 1); // 递归调用 DFS 函数
            }
        }
    }
    dfs(nestedList, 1); // 从第一层开始遍历
    return sum;
};
```

算法复杂度：时间复杂度为 O(n)，其中 n 是列表中元素的个数。空间复杂度为 O(d)，其中 d 是列表的最大深度。