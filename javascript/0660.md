题目编号：660

题目：移除 9

难度：中等

考察范围：数学

题干：给定一个整数 n，从 1 到 n 中，有多少个数包含数字 9？

解题思路：这道题可以用数学方法解决。我们可以先求出从 1 到 n 中，不包含数字 9 的数的个数，然后用总数减去不包含数字 9 的数的个数，就可以得到包含数字 9 的数的个数了。

对于不包含数字 9 的数，我们可以考虑每一位上的数字都不是 9，那么对于一个 k 位数，不包含数字 9 的数的个数就是 8^k。但是这样会重复计算，例如对于两位数，我们既计算了 11-88，也计算了 10-89，所以我们需要减去重复计算的数的个数。

对于 k 位数，重复计算的数的个数就是 8^{k-1}，因为第一位不能是 0，所以有 8 种选择，后面 k-1 位可以是 0-8 中的任意一个数，所以有 8^{k-1} 种选择。因此，不包含数字 9 的数的个数就是：


\sum_{i=1}^{k} 8^{i-1}


其中 k 是 n 的位数。

最后，用总数减去不包含数字 9 的数的个数，就可以得到包含数字 9 的数的个数了。

解决方案：

```javascript
var newInteger = function(n) {
    let res = 0;
    let base = 1;
    while (n > 0) {
        res += n % 9 * base;
        n = Math.floor(n / 9);
        base *= 10;
    }
    return res;
};
```

算法复杂度：时间复杂度为 O(log n)，空间复杂度为 O(1)。