题目编号：260

题目：只出现一次的数字 III

难度：中等

考察范围：位运算

题干：给定一个整数数组 nums，其中恰好有两个元素只出现一次，其余所有元素均出现两次。 找出只出现一次的那两个元素。你可以按任意顺序返回答案。

解题思路：由于数组中只有两个元素出现一次，其余元素均出现两次，因此可以考虑将数组分成两个子数组，每个子数组中只包含一个出现一次的元素，其余元素均出现两次。对于这两个子数组，可以使用“异或”运算找出只出现一次的元素。

具体地，设两个只出现一次的元素为 x 和 y，对数组中所有元素进行一次异或运算，最终得到的结果即为 x 异或 y 的结果。由于 x 和 y 不相同，因此 x 异或 y 的结果必定不为 0，即在结果的二进制表示中至少存在一个二进制位为 1。该二进制位为 1 表示在 x 和 y 的二进制表示中，x 和 y 在该二进制位上的数字不同，一个为 0，另一个为 1。

根据这一位是否为 1，可以将数组中的元素分成两个子数组。对这两个子数组分别进行异或运算，最终得到的结果即为 x 和 y。

解决方案：

```swift
class Solution {
    func singleNumber(_ nums: [Int]) -> [Int] {
        // 对所有元素进行异或运算，得到 x 异或 y 的结果
        var xor = 0
        for num in nums {
            xor ^= num
        }
        // 找到 x 和 y 在二进制下第一个不同的位
        var mask = 1
        while (mask & xor) == 0 {
            mask <<= 1
        }
        // 将数组分成两个子数组，分别对两个子数组进行异或运算
        var x = 0, y = 0
        for num in nums {
            if (num & mask) == 0 {
                x ^= num
            } else {
                y ^= num
            }
        }
        return [x, y]
    }
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)。