题目编号：781

题目：森林中的兔子

难度：中等

考察范围：哈希表、贪心算法

题干：在一个森林里，每个兔子都有一个颜色。其中一些兔子（可能是全部）告诉你还有多少只和它们颜色相同的兔子。我们将这些回答放在 answers 数组里。返回森林中兔子的最少数量。

示例:
输入: answers = [1, 1, 2]
输出: 5
解释:
两只回答了 "1" 的兔子可能有相同的颜色，设为红色。
每一只回答了 "1" 的红兔子都有可能是第一只回答了 "1" 的兔子，因为每一只兔子都可能看到其他兔子的答案而产生错误。
所以这种情况下有 2 只红兔子，2 只蓝兔子，1 只绿兔子。
回答了 "2" 的兔子只可能是蓝色的那一只。
所以森林中兔子的最少数量是 5。

解题思路：对于每个颜色的兔子，如果有 n 只兔子回答了这个颜色，那么至少有 ceil(n/(k+1)) 种不同的颜色，其中 k 是所有回答了这个颜色的兔子中出现次数最多的那个兔子回答的数目。因为如果有一只兔子回答了 k 个，那么这 k 只兔子一定都是同一种颜色，而其他的兔子最多只能是这 k 只兔子的颜色，因此至少有 ceil(n/(k+1)) 种不同的颜色。

解决方案：

```swift
class Solution {
    func numRabbits(_ answers: [Int]) -> Int {
        var dict = [Int: Int]()
        for answer in answers {
            dict[answer, default: 0] += 1
        }
        var res = 0
        for (k, v) in dict {
            res += (v + k) / (k + 1) * (k + 1)
        }
        return res
    }
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。其中 n 是 answers 数组的长度。