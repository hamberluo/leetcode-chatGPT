题目编号：825

题目：适龄的朋友

难度：中等

考察范围：哈希表、数学

题干：有一群朋友在玩以下游戏：给定一个整数数组。每一步操作中，你可以选择数组中的一个整数，将它增加 1 。你最多可以执行这个操作两次。然后，你需要判断是否能使数组中的每个数都相等。

给定一个整数数组，判断是否能通过上述操作使数组中的每个数都相等。

示例 1:

输入: [1,2,3]
输出: false
解释: 不能通过最多两次的操作使数组中的每个数都相等。

示例 2:

输入: [1,2,3,4]
输出: false
解释: 不能通过最多两次的操作使数组中的每个数都相等。

示例 3:

输入: [1,1,1,2,3,4]
输出: false
解释: 不能通过最多两次的操作使数组中的每个数都相等。

提示：

1 <= A.length <= 10000
1 <= A[i] <= 10000

解题思路：首先，如果数组中的最大值和最小值之差大于2，则无论如何都不能使数组中的每个数都相等。因为每次操作只能将一个数加1，所以最大值和最小值之间的差距最多只能减小2。其次，如果数组中的最大值和最小值之差小于等于2，则可以通过最多两次操作使数组中的每个数都相等。具体来说，如果最大值和最小值相等，则数组中的每个数都相等，直接返回true。如果最大值和最小值之差为1，则需要将数组中的所有数都加1，这样最大值和最小值就相等了。如果最大值和最小值之差为2，则需要将数组中的所有数都加1，这样最大值和最小值就变成了原来的最大值加1，最小值加2，它们之间的差距为1，再将数组中的所有数都加1，这样最大值和最小值就相等了。

解决方案：

```swift
class Solution {
    func isNStraightHand(_ hand: [Int], _ W: Int) -> Bool {
        if hand.count % W != 0 {
            return false
        }
        var dict = [Int: Int]()
        for num in hand {
            dict[num, default: 0] += 1
        }
        let sortedKeys = dict.keys.sorted()
        for key in sortedKeys {
            let count = dict[key]!
            if count == 0 {
                continue
            }
            for i in 0..<W {
                if let value = dict[key+i], value >= count {
                    dict[key+i] = value - count
                } else {
                    return false
                }
            }
        }
        return true
    }
}
```

算法复杂度：时间复杂度为O(nlogn)，空间复杂度为O(n)。其中n为数组的长度。