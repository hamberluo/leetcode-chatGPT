题目编号：774

题目：最小化去加油站的最大距离

难度：困难

考察范围：二分查找、贪心算法

题干：在一条公路上有 n 个加油站，第 i 个加油站的位置是 distances[i]，你有一个车，可以加无限多的油，初始时车上没有油。你从位置为 0 的地方出发，想要到达位置为 distances[n-1] 的地方，中途有些加油站可以加油。现在，你想要进行如下操作：每到达一个加油站，就加满油，然后行驶到下一个加油站。请问，你最少需要加多少次油，才能到达终点？注意：在任意一个加油站加油时，油的数量都不能超过车的油箱容量。

解题思路：本题可以使用二分查找和贪心算法相结合的思路来解决。首先，我们可以确定一个二分查找的范围，即最小的加油次数和最大的加油次数。最小的加油次数为 1，即只在起点加一次油就可以到达终点。最大的加油次数为 n-1，即每个加油站都加满油。然后，我们可以通过二分查找来确定最少需要加多少次油才能到达终点。在每次二分查找中，我们可以假设当前需要加油的次数为 mid，然后通过贪心算法来判断是否能够在加油次数为 mid 的情况下到达终点。具体来说，我们可以从起点开始，依次遍历每个加油站，如果当前加油站到起点的距离减去上一个加油站到起点的距离大于车子的油箱容量，则说明需要在上一个加油站加油，然后更新上一个加油站的位置为当前加油站的位置。如果遍历完所有加油站后，最后一个加油站到终点的距离大于车子的油箱容量，则说明无法在加油次数为 mid 的情况下到达终点，需要继续增加加油次数。如果最后一个加油站到终点的距离小于等于车子的油箱容量，则说明可以在加油次数为 mid 的情况下到达终点，需要继续减少加油次数。

解决方案：

```swift
class Solution {
    func minmaxGasDist(_ stations: [Int], _ k: Int) -> Double {
        var left = 0.0
        var right = Double(stations[stations.count-1] - stations[0])
        while right - left > 1e-6 {
            let mid = (left + right) / 2
            var count = 0
            for i in 0..<stations.count-1 {
                count += Int(ceil(Double(stations[i+1] - stations[i]) / mid)) - 1
            }
            if count <= k {
                right = mid
            } else {
                left = mid
            }
        }
        return left
    }
}
```

算法复杂度：时间复杂度为 O(nlogd)，其中 n 为加油站的数量，d 为最大距离除以最小距离的整数部分加 1，即二分查找的次数。空间复杂度为 O(1)。