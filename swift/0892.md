题目编号：892

题目：三维形体的表面积

难度：简单

考察范围：数组、模拟

题干：给你一个 n * n 的网格 grid，上面放置着一些 1 x 1 x 1 的正方体。每个值 v = grid[i][j] 表示 v 个正方体叠放在对应单元格 (i, j) 上。放置好这些正方体后，从每个底面格子上方看去，都能看到若干个正方体的面。我们将所有能看到至少一面的正方体的面积之和称为表面积。

返回 grid 中所有正方体的表面积之和。

解题思路：对于每个正方体，它的表面积为 6，但是如果它的上下左右四个方向有其他正方体，那么这些方向的表面积就会被遮挡，需要减去被遮挡的表面积。因此，我们可以遍历每个正方体，计算它的表面积，并减去被遮挡的表面积。

解决方案：

```swift
class Solution {
    func surfaceArea(_ grid: [[Int]]) -> Int {
        let n = grid.count
        var res = 0
        for i in 0..<n {
            for j in 0..<n {
                if grid[i][j] > 0 {
                    // 计算当前正方体的表面积
                    res += grid[i][j] * 4 + 2
                    // 减去被遮挡的表面积
                    if i > 0 {
                        res -= min(grid[i][j], grid[i-1][j]) * 2
                    }
                    if j > 0 {
                        res -= min(grid[i][j], grid[i][j-1]) * 2
                    }
                }
            }
        }
        return res
    }
}
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(1)。