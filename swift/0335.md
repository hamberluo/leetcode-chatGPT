题目编号：335

题目：路径交叉

难度：困难

考察范围：数学、模拟

题干：给定一个含有 n 个正整数的数组 x。从点 (0,0) 开始，先向北移动 x[0] 米，然后向西移动 x[1] 米，向南移动 x[2] 米，向东移动 x[3] 米，持续进行这样的移动。也就是说，每次移动后你的方位会逆时针变化。

编写一个 O(1) 空间复杂度的一趟扫描算法，判断你所经过的路径是否相交。

解题思路：根据题目要求，我们需要判断路径是否相交。因此，我们需要找到路径相交的情况。路径相交的情况有以下几种：

1.第四条线段与第一条线段相交

2.第五条线段与第二条线段相交

3.第六条线段与第三条线段相交

4.第七条线段与第二条线段相交

5.第八条线段与第三条线段相交

6.第九条线段与第四条线段相交

我们可以通过模拟路径的过程，依次判断每条线段是否相交，如果相交则返回 true，否则返回 false。

解决方案：

```swift
func isSelfCrossing(_ x: [Int]) -> Bool {
    if x.count < 4 {
        return false
    }
    for i in 3..<x.count {
        if x[i] >= x[i-2] && x[i-1] <= x[i-3] {
            return true
        }
        if i >= 4 && x[i-1] == x[i-3] && x[i] + x[i-4] >= x[i-2] {
            return true
        }
        if i >= 5 && x[i-2] >= x[i-4] && x[i-3] >= x[i-1] && x[i-1] + x[i-5] >= x[i-3] && x[i] + x[i-4] >= x[i-2] {
            return true
        }
    }
    return false
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)。