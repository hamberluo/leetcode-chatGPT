题目编号：376

题目：摆动序列

难度：中等

考察范围：贪心算法、动态规划

题干：如果连续数字之间的差严格地在正数、负数之间交替，则这样的数字序列称为摆动序列。给定一个整数序列，返回作为摆动序列的最长子序列的长度。可以从原始序列中删除一些元素（也可以不删除）以获得子序列，剩下的元素保持其原始顺序。

解题思路：贪心算法

对于一个摆动序列，我们可以发现，只需要记录序列中的峰值和谷值，就可以确定这个序列的摆动情况。因此，我们可以使用贪心算法，从左到右遍历整个序列，记录当前的峰值和谷值，如果当前数字比前一个数字大，则说明当前数字是峰值，如果当前数字比前一个数字小，则说明当前数字是谷值。如果当前数字和前一个数字相等，则不做处理。

在记录峰值和谷值的同时，我们可以计算出当前序列的摆动长度，即峰值和谷值的个数加一。最终的答案即为所有摆动序列中摆动长度最大的值。

解决方案：

```swift
func wiggleMaxLength(_ nums: [Int]) -> Int {
    if nums.count < 2 {
        return nums.count
    }
    var prevDiff = nums[1] - nums[0]
    var count = prevDiff != 0 ? 2 : 1
    for i in 2..<nums.count {
        let diff = nums[i] - nums[i-1]
        if (diff > 0 && prevDiff <= 0) || (diff < 0 && prevDiff >= 0) {
            count += 1
            prevDiff = diff
        }
    }
    return count
}
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(1)。