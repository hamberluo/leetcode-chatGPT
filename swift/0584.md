题目编号：584

题目：寻找用户推荐人

难度：简单

考察范围：字符串操作，哈希表

题干：给定一个员工表，包含员工编号（EmployeeId）和他们的上级（ManagerId）以及该员工可能参加的项目（ProjectId）。

+-------------+----------+-------------+
| EmployeeId  | ManagerId| ProjectId   |
+-------------+----------+-------------+
| 101         | 3        | 1           |
| 101         | 3        | 2           |
| 101         | 3        | 3           |
| 102         | 4        | 1           |
| 102         | 4        | 2           |
| 103         | 4        | 3           |
| 104         | 5        | 1           |
| 104         | 5        | 2           |
+-------------+----------+-------------+

如果员工没有上级，他们的 ManagerId 将为 null。在这个表中，项目参与者（EmployeeId）和项目经理（ManagerId）都被视为员工。编写一个 SQL 查询，以查找每个员工的姓名和他们的经理姓名。如果该员工没有经理，仅显示其姓名。

示例输出：

+-------------+-------------+
| Employee    | Manager     |
+-------------+-------------+
| John        | NULL        |
| Dan         | John        |
| Brad        | John        |
| Thomas      | John        |
| Paul        | Brad        |
+-------------+-------------+

解题思路：首先需要将员工表中的员工编号和姓名对应起来，可以使用哈希表来实现。然后根据员工表中的经理编号，查找对应的经理姓名。如果经理编号为 null，则直接显示员工姓名。

解决方案：

```swift
SELECT e1.Name AS Employee, e2.Name AS Manager
FROM Employee e1
LEFT JOIN Employee e2 ON e1.ManagerId = e2.Id
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。其中 n 为员工表中的记录数。