题目编号：38

题目：外观数列

难度：简单

考察范围：字符串、递归

题干：给定一个正整数 n ，输出外观数列的第 n 项。

外观数列是一个整数序列，从数字 1 开始，序列中的每一项都是对前一项的描述。

例如，第一项是 "1" ，第二项是 "11" ，第三项是 "21" ，第四项是 "1211" ，第五项是 "111221" ，第六项是 "312211" ，第七项是 "13112221" 。这是一个递归定义的序列，从第二项开始，每一项都是对前一项的描述。

解题思路：递归

我们可以通过递归的方式来解决这个问题。对于第 n 项，我们可以先求出第 n-1 项，然后根据第 n-1 项的描述来得到第 n 项的描述。

具体来说，我们可以从第 2 项开始递归，对于第 i 项，我们先递归得到第 i-1 项的描述，然后根据该描述得到第 i 项的描述。具体来说，我们可以从左到右扫描第 i-1 项的描述，记录当前数字 num 出现的次数 count，直到遇到下一个不同的数字，此时我们就得到了第 i 项的第 j 个数字，它等于 count + '0'，其中 '0' 表示字符 0。最后我们将这个数字以及它的出现次数拼接到第 i 项的描述中即可。

解决方案：

```ruby
def count_and_say(n)
  return "1" if n == 1
  last_str = count_and_say(n - 1)
  res = ""
  count = 1
  (1..last_str.length).each do |i|
    if i == last_str.length || last_str[i] != last_str[i - 1]
      res += count.to_s + last_str[i - 1]
      count = 1
    else
      count += 1
    end
  end
  res
end
```

算法复杂度：时间复杂度为 O(2^n)，空间复杂度为 O(2^n)。