题目编号：885

题目：螺旋矩阵 III

难度：中等

考察范围：数组、模拟

题干：在 R 行 C 列的矩阵上，我们从 (r0, c0) 面朝东面开始

这里给出一个例子，当 R = 5 且 C = 6 时的螺旋矩阵：

```ruby
[
 [1, 2, 3, 4, 5, 6],
 [20, 21, 22, 23, 24, 7],
 [19, 32, 33, 34, 25, 8],
 [18, 31, 36, 35, 26, 9],
 [17, 30, 29, 28, 27, 10]
]
```

解题思路：模拟

我们可以按照题目要求，从起点开始，按照顺序依次访问每个点，直到访问完所有点。

具体来说，我们可以从起点开始，先向东走 1 步，然后向南走 1 步，再向西走 2 步，再向北走 2 步，再向东走 3 步……以此类推，每次向相邻的方向前进的步数都会加 1，方向会依次循环。

当我们访问到一个点时，如果它在矩阵中，就将它加入答案中；否则就忽略它。

当我们访问到的点数量达到 R \times C 时，就返回答案。

解决方案：

```ruby
# @param {Integer} r
# @param {Integer} c
# @param {Integer} r0
# @param {Integer} c0
# @return {Integer[][]}
def spiral_matrix_iii(r, c, r0, c0)
  ans = []
  x, y, dx, dy, n = r0, c0, 0, 1, 0
  while ans.size < r * c
    ans << [x, y] if 0 <= x && x < r && 0 <= y && y < c
    n += 1 if dx == dy || dx + dy == 0
    dx, dy = -dy, dx if n.even?
    x, y = x + dx, y + dy
  end
  ans
end
```

算法复杂度：时间复杂度为 O(RC)，空间复杂度为 O(RC)。