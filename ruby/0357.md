题目编号：357

题目：计算各个位数不同的数字个数

难度：中等

考察范围：数学、动态规划

题干：给定一个非负整数 n，计算各位数字都不同的数字 x 的个数，其中 0 ≤ x < 10^n。

解题思路：这是一道数学题，需要找到规律。我们可以先从小规模的数字开始分析，比如 n=1，我们可以列出所有符合条件的数字：

0, 1, 2, 3, 4, 5, 6, 7, 8, 9

共有 10 个数字，符合条件的数字个数为 10。

再看 n=2，我们可以列出所有符合条件的数字：

10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 23, 24, 25, 26, 27, 28, 29, 31, 32, 34, 35, 36, 37, 38, 39, 41, 42, 43, 45, 46, 47, 48, 49, 51, 52, 53, 54, 56, 57, 58, 59, 61, 62, 63, 64, 65, 67, 68, 69, 71, 72, 73, 74, 75, 76, 78, 79, 81, 82, 83, 84, 85, 86, 87, 89, 91, 92, 93, 94, 95, 96, 97, 98, 99

共有 91 个数字，符合条件的数字个数为 91。

我们可以发现，对于 n 位数字，如果第一位是 k，那么后面的数字可以从 0 到 9 中选择，但是不能选择 k，因为 k 已经被占用了。所以后面的数字有 9 种选择。如果第一位是 0，那么后面的数字有 9 种选择。所以对于 n 位数字，符合条件的数字个数为：

f(n) = 9 * 9 * 8 * ... * (11-n)

其中，f(n) 表示 n 位数字中符合条件的数字个数。

解决方案：

```ruby
def count_numbers_with_unique_digits(n)
  return 1 if n == 0
  return 10 if n == 1
  res = 10
  for i in 2..n
    tmp = 9
    for j in 1..i-1
      tmp *= (11-j)
    end
    res += tmp
  end
  res
end
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(1)。