题目编号：440

题目：字典序的第K小数字

难度：困难

考察范围：数学、二分查找

题干：给定整数 n 和 k，找到 1 到 n 中字典序第 k 小的数字。

解题思路：首先我们需要了解什么是字典序。字典序就是按照字典顺序进行排序，例如 1, 10, 11, 12, 2, 3, 4, 5, 6, 7, 8, 9 的字典序排序为 1, 10, 11, 12, 2, 3, 4, 5, 6, 7, 8, 9。

我们可以通过前缀树的方式来构建字典序树，然后进行深度优先搜索，找到第 k 个节点即可。但是这种方法的时间复杂度为 O(n)，无法通过本题。

我们可以通过数学的方式来解决本题。我们可以将 1 到 n 的数字按照字典序排序，然后找到第 k 个数字。我们可以通过前缀和的方式来计算每个前缀的数字个数，然后通过二分查找来找到第 k 个数字所在的前缀，最后再通过数学计算得到第 k 个数字。

解决方案：

```ruby
def find_kth_number(n, k)
  cur = 1
  k -= 1
  while k > 0
    steps = calc_steps(n, cur, cur + 1)
    if steps <= k
      cur += 1
      k -= steps
    else
      cur *= 10
      k -= 1
    end
  end
  cur
end

def calc_steps(n, n1, n2)
  steps = 0
  while n1 <= n
    steps += [n + 1, n2].min - n1
    n1 *= 10
    n2 *= 10
  end
  steps
end
```

算法复杂度：时间复杂度为 O(log n)，空间复杂度为 O(1)。