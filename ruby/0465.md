题目编号：465

题目：最优账单平衡

难度：困难

考察范围：贪心算法、动态规划

题干：

假设你是一位银行家，有一个客户需要向你借钱。客户需要借 n 元，你可以向客户提供 m 种不同面额的钞票，每种钞票的数量无限。现在你需要决定如何分配这些钞票，使得客户可以还清借款，并且你手中的钞票总面额最小。

例如，客户需要借 n=30 元，你有两种钞票，面额分别为 10 元和 20 元。你可以提供 1 张 20 元和 1 张 10 元，总面额为 30 元，这是最优的方案。

请你编写一个函数 `smallestDivisor`，它的输入是一个整数 n 和一个整数数组 `nums`，其中 `nums` 包含 m 种不同面额的钞票。函数应该返回一个整数，表示最小的钞票总面额。

解题思路：

这是一道贪心算法的题目。我们可以先将钞票面额从大到小排序，然后从大到小依次选择钞票，直到借款还清为止。

解决方案：

```ruby
def smallest_divisor(n, nums)
  nums.sort! { |a, b| b <=> a } # 将钞票面额从大到小排序
  sum = 0 # 记录已经选择的钞票面额之和
  i = 0 # 记录已经选择的钞票数量
  while sum < n # 如果借款还没有还清
    if i == nums.length # 如果已经选择了所有的钞票，从头开始选择
      i = 0
    elsif sum + nums[i] <= n # 如果选择这张钞票不会导致借款超额
      sum += nums[i] # 选择这张钞票
    else # 如果选择这张钞票会导致借款超额
      i += 1 # 选择下一张钞票
    end
  end
  sum # 返回钞票总面额
end
```

算法复杂度：O(m \log m)，其中 m 是钞票种类数。排序的时间复杂度为 O(m \log m)，选择钞票的时间复杂度为 O(m)。