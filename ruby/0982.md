题目编号：982

题目：按位与为零的三元组

难度：困难

考察范围：位运算、哈希表

题干：给定一个整数数组 A，找出索引为 (i, j, k) 的三元组，使得：

0 <= i < A.length
0 <= j < A.length
0 <= k < A.length
A[i] & A[j] & A[k] == 0，其中 & 表示按位与（AND）操作符。
 

解题思路：本题可以使用哈希表来解决。首先，我们可以将数组 A 中的所有元素的二进制表示看作一个长度为 32 的 01 串，然后将这些 01 串插入到一个哈希表中。接着，我们可以枚举所有的三元组 (i, j, k)，并检查它们的按位与是否为 0。具体来说，我们可以枚举 i 和 j，然后用哈希表来判断是否存在一个数 k，使得 A[i] & A[j] & A[k] == 0。如果存在这样的 k，那么就将答案加上哈希表中 k 出现的次数。

解决方案：

```ruby
def count_triplets(a)
    n = a.size
    cnt = Hash.new(0)
    a.each do |x|
        cnt[x] += 1
    end
    ans = 0
    (0...n).each do |i|
        (0...n).each do |j|
            if cnt[a[i] & a[j]] > 0
                ans += cnt[a[i] & a[j]]
            end
        end
    end
    ans
end
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(n)。