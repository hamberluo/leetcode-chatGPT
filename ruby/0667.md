题目编号：667

题目：优美的排列 II

难度：中等

考察范围：数组、贪心算法

题干：给定两个整数 n 和 k，你需要实现一个数组，这个数组需要满足如下条件：

1. 数组的长度为 n，且只包含 1 到 n 这 n 个数字。
2. 序列中不重复的元素数量恰好为 k。
3. 对于每对 0 <= i < j < n，都满足序列中第 i 个元素和第 j 个元素的差的绝对值恰好为 j - i。

请你返回一个满足上述条件的数组。如果存在多种答案，只需返回其中任意一种即可。

解题思路：贪心算法

首先，我们可以构造一个长度为 n 的数组，其中第 i 个元素为 i + 1。这样，我们就得到了一个满足条件 1 和条件 3 的序列。

接下来，我们需要将这个序列变成一个满足条件 2 的序列。我们可以从左到右遍历这个序列，每次交换相邻的两个元素，直到序列中不重复的元素数量恰好为 k。这样，我们就得到了一个满足所有条件的序列。

为什么这个算法是正确的呢？我们可以考虑每次交换相邻的两个元素会对哪些差值产生影响。假设我们交换了位置 i 和位置 i+1 上的元素，那么对于位置 j，当 j < i 或 j > i+1 时，交换不会对差值产生影响；当 i <= j <= i+1 时，交换会将差值 j-i 变成 i+1-j，也就是将差值翻转过来。因此，我们每次交换相邻的两个元素，都会将一个差值翻转过来。由于初始序列满足条件 3，因此我们最终得到的序列也一定满足条件 3。

解决方案：

```ruby
def construct_array(n, k)
  res = (1..n).to_a
  i = 1
  while i < k
    res[i..k] = res[i..k].reverse
    i += 2
  end
  res
end
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。