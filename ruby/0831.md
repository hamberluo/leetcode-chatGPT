题目编号：831

题目：隐藏个人信息

难度：简单

考察范围：字符串处理

题干：给定一条字符串 S，包含以下内容之一：

1.电子邮件地址
2.电话号码
返回隐藏后的字符串。

电子邮件地址： 

我们将电子邮件地址的第一个字母缩写为它的第一个字母，然后用“***”替换@后面的所有字母，直到@前的最后一个字母，然后将@和它之前的所有字母保留，最后将剩余的字母缩写为它们的第一个字母。

例如，“johndoe@example.com”将变成“j*****e@example.com”。

电话号码：

我们将电话号码的后四个数字替换为“****”，并在前面添加“***-”。

例如，“(123)456-7890”将变成“***-***-7890”。

最后，将隐藏后的字符串返回。

解题思路：根据题目要求，分别处理电子邮件地址和电话号码，最后拼接起来即可。

解决方案：

```ruby
def mask_email(email)
  # 获取@前面的字符串
  prefix = email.split('@')[0]
  # 获取@后面的字符串
  suffix = email.split('@')[1]
  # 缩写中间的字符串
  prefix = prefix[0] + '*****' + prefix[-1]
  # 拼接前缀和后缀
  prefix + '@' + suffix
end

def mask_phone(phone)
  # 去除非数字字符
  phone = phone.gsub(/\D/, '')
  # 替换后四位为****
  phone[-4..-1] = '****'
  # 拼接前缀和后缀
  '***-' + phone[-8..-5] + '-' + phone[-4..-1]
end

def mask_pii(s)
  if s.include?('@')
    mask_email(s)
  else
    mask_phone(s)
  end
end
```

算法复杂度：时间复杂度为 O(n)，其中 n 为字符串的长度。空间复杂度为 O(1)。