题目编号：858

题目：镜面反射

难度：中等

考察范围：数学、几何

题干：有一个光源、一个起点和一个终点。光源从起点出发，以 p 的速度向右移动。镜子以 q 的速度向上或向下移动。返回光线到达终点的最短时间。

解题思路：本题可以使用数学方法解决。首先，我们可以将光线的运动轨迹表示为 y = px，其中 y 表示光线的纵坐标，x 表示光线的横坐标。当光线碰到镜子时，它会被反射，反射后的光线与镜子的夹角等于入射角，因此我们可以将镜子看作一个坐标系，将光线的反射轨迹表示为 y = -px + 2kq，其中 k 表示光线反射的次数，q 表示镜子的位置。当光线到达终点时，它的横坐标等于终点的横坐标，因此我们可以通过求解方程 y = px 和 y = -px + 2kq 的交点，来确定光线到达终点的最短时间。

解决方案：

```ruby
def mirror_reflection(p, q)
  k = 1
  while k * q % p != 0
    k += 1
  end
  if k % 2 == 0
    return 2
  elsif (k * q / p) % 2 == 0
    return 0
  else
    return 1
  end
end
```

算法复杂度：时间复杂度为 O(\frac{pq}{\gcd(p,q)})，空间复杂度为 O(1)。