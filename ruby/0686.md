题目编号：686

题目：重复叠加字符串匹配

难度：简单

考察范围：字符串、双指针

题干：给定两个字符串 A 和 B，寻找重复叠加字符串 A 的最小次数，使得 B 成为叠加后的字符串的子串，如果不存在则返回 -1。

解题思路：双指针

我们可以将字符串 A 重复叠加，直到长度大于等于字符串 B 的长度，然后在其中寻找字符串 B 是否为其子串。这里需要注意的是，重复叠加的次数最多为 2 次，因为当重复叠加 2 次后，长度已经大于等于字符串 B 的长度了。

具体实现时，我们可以使用双指针，分别指向字符串 A 和字符串 B 的开头，然后同时向后遍历，如果两个指针指向的字符相同，则两个指针同时向后移动，否则将指向字符串 A 的指针移回上一次匹配的位置的下一个位置，指向字符串 B 的指针移回开头，重新开始匹配。

解决方案：

```ruby
def repeated_string_match(a, b)
  n, m = a.size, b.size
  max_count = (m - 1) / n + 2 # 最多重复叠加 2 次
  s = a * max_count
  i, j = 0, 0
  while i < s.size && j < m
    if s[i] == b[j]
      i += 1
      j += 1
    else
      i -= j - 1
      j = 0
    end
  end
  if j == m
    (i - 1) / n + 1
  else
    -1
  end
end
```

算法复杂度：时间复杂度为 O(nm)，空间复杂度为 O(n+m)。其中 n 和 m 分别为字符串 A 和字符串 B 的长度。