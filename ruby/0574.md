题目编号：574

题目：汇总嵌套区间的所有权值

难度：中等

考察范围：深度优先搜索、哈希表

题干：给定一个嵌套的区间列表，请返回每个区间的总和。

每个元素可能是整数或一个列表，其列表的元素也可能是整数或者其他列表。

示例 1:

输入: [[1,1],2,[1,1]]
输出: 10
解释: 因为列表中有四个元素，所以答案为 1 + 1 + 2 + 1 + 1 = 6。

示例 2:

输入: [1,[4,[6]]]
输出: 27 
解释:  因为列表中有三个元素，所以答案为 1 + 4 + 6 = 11。

解题思路：本题可以使用深度优先搜索来解决。对于每个元素，如果是整数，则直接加到结果中；如果是列表，则递归调用深度优先搜索，将返回值加到结果中。

解决方案：

```ruby
def depth_sum(nested_list)
    dfs(nested_list, 1)
end

def dfs(nested_list, depth)
    sum = 0
    nested_list.each do |item|
        if item.is_a?(Integer)
            sum += item * depth
        else
            sum += dfs(item, depth + 1)
        end
    end
    return sum
end
```

算法复杂度：时间复杂度为 O(n)，其中 n 为列表中元素的个数。空间复杂度为 O(d)，其中 d 为列表的最大深度。