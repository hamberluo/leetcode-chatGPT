题目编号：89

题目：格雷编码

难度：中等

考察范围：位运算

题干：给定一个非负整数 n ，表示该数字在格雷编码序列中所处的位置，请输出其格雷编码序列。格雷编码序列必须以 0 开头。

解题思路：格雷编码是一种二进制编码方式，相邻的两个数仅有一位二进制数不同。因此，我们可以通过位运算来实现。

解决方案：

```ruby
def gray_code(n)
  res = [0]
  (0...n).each do |i|
    size = res.size
    (size - 1).downto(0) do |j|
      res << res[j] + (1 << i)
    end
  end
  res
end
```

算法复杂度：时间复杂度为 O(2^n)，空间复杂度为 O(2^n)。