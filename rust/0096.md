题目编号：96

题目：不同的二叉搜索树

难度：中等

考察范围：动态规划、二叉搜索树

题干：

给定一个整数 n，求以 1 ... n 为节点组成的二叉搜索树有多少种？

示例:

输入: 3
输出: 5
解释:
给定 n = 3, 一共有 5 种不同结构的二叉搜索树:
   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3

解题思路：

题目要求计算以 1 ... n 为节点组成的二叉搜索树的数量，可以使用动态规划来解决。

假设 G(n) 表示以 1 ... n 为节点组成的二叉搜索树的数量，F(i, n) 表示以 i 为根节点，1 ... n 为节点组成的二叉搜索树的数量，则有：

G(n) = F(1, n) + F(2, n) + ... + F(n, n)

对于 F(i, n)，可以将 1 ... n 分为左子树和右子树两部分，左子树包含 1 ... i-1，右子树包含 i+1 ... n，因此有：

F(i, n) = G(i-1) * G(n-i)

将上述两个式子结合起来，可以得到：

G(n) = G(0) * G(n-1) + G(1) * G(n-2) + ... + G(n-1) * G(0)

其中 G(0) = 1，G(1) = 1。

解决方案：

```rust
impl Solution {
    pub fn num_trees(n: i32) -> i32 {
        let n = n as usize;
        let mut g = vec![0; n+1];
        g[0] = 1;
        g[1] = 1;
        for i in 2..=n {
            for j in 1..=i {
                g[i] += g[j-1] * g[i-j];
            }
        }
        g[n]
    }
}
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(n)。