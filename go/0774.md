题目编号：774

题目：最小化去加油站的最大距离

难度：困难

考察范围：二分查找、贪心算法

题干：

在一条直线上有 n 个加油站，第 i 个加油站有 gas[i] 升汽油。
你有一辆油箱容量无限的的汽车，从第 i 个加油站开始（0 <= i < n）加油。
当你行驶到第 j 个加油站时，你的油量为 sum[i] + gas[i] - cost[i]，其中 sum[i] 表示从起点到第 i 个加油站的距离。
你的车油箱可以装下任意数量的油，所以你可以加油到任意时刻使油量达到最大。
为了简化起见，假设你从加油站 i 到 j 消耗的油量是 cost[i, j]，你不能跨越任何加油站。
请你返回能到达终点的加油站编号，否则返回 -1。

解题思路：

本题可以使用二分查找和贪心算法相结合的思路来解决。

首先，我们可以发现，如果我们从起点开始，一直往前走，如果到了某个加油站 i，发现无法到达下一个加油站 j，那么说明从起点到 i 这段路程中的任意一个加油站都无法到达 j，因为我们不能跨越任何加油站。

因此，我们可以使用二分查找来确定最终的答案。具体来说，我们可以二分一个答案 mid，表示我们最终能够到达的最远的加油站的编号。然后，我们从起点开始模拟行驶过程，每次行驶到下一个加油站时，如果当前油量不足以到达下一个加油站，那么我们就在当前加油站加油，加到恰好能够到达下一个加油站的油量。如果加油后仍然无法到达下一个加油站，那么说明我们无法到达终点，返回 -1。否则，我们继续前进，直到到达终点。

解决方案：

```go
func minmaxGasDist(stations []int, K int) float64 {
    n := len(stations)
    l, r := 0.0, float64(stations[n-1]-stations[0])
    for r-l > 1e-6 {
        mid := (l + r) / 2
        cnt := 0
        for i := 0; i < n-1; i++ {
            cnt += int(math.Ceil(float64(stations[i+1]-stations[i]) / mid)) - 1
        }
        if cnt <= K {
            r = mid
        } else {
            l = mid
        }
    }
    return l
}
```

算法复杂度：时间复杂度为 O(nlogd)，其中 d 为答案的精度，本题中 d = 1e-6；空间复杂度为 O(1)。