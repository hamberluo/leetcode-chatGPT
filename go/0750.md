题目编号：750

题目：角矩形的数量

难度：中等

考察范围：哈希表、数学

题干：

给定一个只包含 0 和 1 的网格，找出其中角矩形的数量。

一个角矩形是由四个不同的角组成的轴对称矩形。注意只有角才算是矩形的一部分。

示例 1:

输入: 
[[1, 0, 0, 1, 0],
 [0, 0, 1, 0, 1],
 [0, 0, 0, 1, 0],
 [1, 0, 1, 0, 1]]
输出: 1
解释: 针对第 0 行和第 2 行的角矩形是唯一的一个。

示例 2:

输入: 
[[1, 1, 1],
 [1, 1, 1],
 [1, 1, 1]]
输出: 9
解释: 这里有 9 个 2x2 的角矩形。

注意:

网格 grid 中行和列的数目范围为 [1, 200]。

解题思路：

本题可以使用哈希表来解决，具体思路如下：

- 遍历每一行，对于每一行，遍历所有的列，如果当前位置为 1，则将其加入哈希表中；
- 对于每一对不同的列，遍历所有的行，如果这两列在当前行都为 1，则说明找到了一个角矩形，将其数量加入答案中。

解决方案：

```go
func countCornerRectangles(grid [][]int) int {
    m := len(grid)
    if m == 0 {
        return 0
    }
    n := len(grid[0])
    if n == 0 {
        return 0
    }
    ans := 0
    for i := 0; i < m; i++ {
        mp := make(map[int]int)
        for j := 0; j < n; j++ {
            if grid[i][j] == 1 {
                for k, v := range mp {
                    if grid[i][k] == 1 {
                        ans += v
                        mp[k]++
                    }
                }
                mp[j] = 1
            }
        }
    }
    return ans
}
```

算法复杂度：时间复杂度为 O(m*n^2)，空间复杂度为 O(n)。