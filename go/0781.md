题目编号：781

题目：森林中的兔子

难度：中等

考察范围：哈希表、贪心算法

题干：在一个森林里，每个兔子都有一个颜色。其中一些兔子（可能是全部）告诉你还有多少只与它们颜色相同的兔子。我们将这些回答放在 answers 数组里，并且这些回答从最终统计结果中排除。写一个函数来计算森林中兔子的最少数量。

示例:
输入: answers = [1, 1, 2]
输出: 5
解释:
两只回答了 "1" 的兔子可能有相同的颜色，设为红色。
同时一只回答了 "2" 的兔子必须是另一种颜色，设为蓝色。
那么森林中可以有 2 只红兔子和 1 只蓝兔子。
红兔子回答了 "2"，蓝兔子回答了 "1"，总共回答了 3 次。
因此森林中有 2 + 1 + 2 = 5 只兔子。

解题思路：对于每种颜色的兔子，如果有 n 只兔子回答了与它们颜色相同的兔子数量为 m，那么至少有 ceil(n/(m+1)) 种不同的颜色，每种颜色有 m+1 只兔子。因为如果有多于 ceil(n/(m+1)) 种颜色，那么必然有两种颜色的兔子回答的数量相同，这与题目中的假设矛盾。

解决方案：

```go
func numRabbits(answers []int) int {
    count := make(map[int]int)
    for _, ans := range answers {
        count[ans]++
    }
    res := 0
    for k, v := range count {
        res += (v+k)/(k+1)*(k+1)
    }
    return res
}
```

算法复杂度：时间复杂度为 O(n)，其中 n 为 answers 数组的长度。空间复杂度为 O(n)。