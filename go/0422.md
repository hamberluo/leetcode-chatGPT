题目编号：422

题目：有效的单词方块

难度：中等

考察范围：字符串、数组、模拟

题干：

给定一个单词序列，判断其是否能够组成一个有效的单词方块。

有效的单词方块是指：从第 k 行和第 k 列读取的字符串相同，且 0 ≤ k < max(numRows, numColumns)。

例如，单词序列 ["abcd", "bnrt", "crmy", "dtye"] 可以组成一个有效的单词方块，因为从第 0 行和第 0 列读取的字符串为 "abcd"，从第 1 行和第 1 列读取的字符串为 "bnrt"，从第 2 行和第 2 列读取的字符串为 "crmy"，从第 3 行和第 3 列读取的字符串为 "dtye"。

解题思路：

首先，我们需要判断给定的单词序列是否能够组成一个有效的单词方块。如果单词序列的长度不等于每个单词的长度，则无法组成有效的单词方块。因此，我们可以先遍历一遍单词序列，判断每个单词的长度是否相等。

接下来，我们需要判断每一行和每一列的字符串是否相等。我们可以使用两个循环来遍历每一行和每一列，然后判断它们是否相等。具体来说，我们可以先遍历每一行，然后对于每一行，我们可以遍历每一列，然后判断该列的字符串是否与该行的字符串相等。如果相等，则继续遍历下一列，否则返回 false。如果遍历完所有列后都没有返回 false，则说明该行和该列的字符串相等。我们可以继续遍历下一行，直到遍历完所有行。

解决方案：

```
func validWordSquare(words []string) bool {
    n := len(words)
    for i := 0; i < n; i++ {
        if len(words[i]) != n {
            return false
        }
    }
    for i := 0; i < n; i++ {
        for j := 0; j < i; j++ {
            if words[i][j] != words[j][i] {
                return false
            }
        }
    }
    return true
}
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(1)。