题目编号：424

题目：替换后的最长重复字符

难度：中等

考察范围：字符串、滑动窗口

题干：

给你一个仅由大写英文字母组成的字符串 s，你可以将任意位置上的字符替换成另外的字符，总共可最多替换 k 次。在执行上述操作后，找到包含重复字母的最长子串的长度。

注意：字符串长度 和 k 不会超过 104。

解题思路：

本题可以使用滑动窗口来解决。

首先，我们可以使用一个数组来记录每个字符出现的次数，然后使用双指针维护一个窗口，使得窗口内的字符都可以通过替换 k 次得到。

具体来说，我们可以让右指针不断向右移动，每次将对应的字符出现次数加 1，然后判断当前窗口是否合法，即窗口内出现次数最多的字符加上 k 后是否大于等于窗口长度。如果不合法，则需要移动左指针，同时将对应的字符出现次数减 1，直到窗口重新变得合法。

在这个过程中，我们可以记录窗口的大小，从而得到最终的答案。

解决方案：

```go
func characterReplacement(s string, k int) int {
    n := len(s)
    cnt := [26]int{}
    maxCnt, left := 0, 0
    for right, ch := range s {
        cnt[ch-'A']++
        maxCnt = max(maxCnt, cnt[ch-'A'])
        if right-left+1-maxCnt > k {
            cnt[s[left]-'A']--
            left++
        }
    }
    return n - left
}

func max(a, b int) int {
    if a > b {
        return a
    }
    return b
}
```

算法复杂度：时间复杂度为 O(n)，其中 n 是字符串的长度。空间复杂度为 O(1)。