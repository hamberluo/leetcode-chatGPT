题目编号：661

题目：图片平滑器

难度：简单

考察范围：数组、模拟

题干：给你一个大小为 m x n 的整数矩阵 M ，其中 M[i][j] 是图片中第 i 行第 j 列的灰度值（0 ≤ M[i][j] ≤ 255）。请你将该图片平滑化并返回平滑后的图片，平滑后的图片中，每个像素的值是周围 8 个和它本身的平均灰度值，舍去小数后取整。

解题思路：对于每个像素点，我们需要计算它周围 8 个像素点的平均值，然后将这个平均值赋给当前像素点。需要注意的是，对于边缘上的像素点，它周围可能没有 8 个像素点，这时我们只需要计算存在的像素点的平均值即可。

解决方案：

```go
func imageSmoother(M [][]int) [][]int {
    m, n := len(M), len(M[0])
    res := make([][]int, m)
    for i := range res {
        res[i] = make([]int, n)
    }
    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            sum, count := 0, 0
            for k := i-1; k <= i+1; k++ {
                for l := j-1; l <= j+1; l++ {
                    if k >= 0 && k < m && l >= 0 && l < n {
                        sum += M[k][l]
                        count++
                    }
                }
            }
            res[i][j] = sum / count
        }
    }
    return res
}
```

算法复杂度：时间复杂度为 O(mn)，空间复杂度为 O(mn)。