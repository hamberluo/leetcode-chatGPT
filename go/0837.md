题目编号：837

题目：新21点

难度：中等

考察范围：动态规划

题干：

爱丽丝以 0 分开始，并在她的得分少于 K 分时抽取数字。 抽取时，她从牌顶抽取一张牌，使得她的分数增加牌面的点数。 除非她打出 21 点，否则她持续抽牌，直到她的分数至少达到 K 分。 

每张牌的点数计算方式如下：

1. 1-9 的牌按其点数计算。
2. 10、J、Q、K 点数为 10。
3. A 点数为 1 或 11，取决于使得爱丽丝的分数不超过 21 的方案数最大。

返回爱丽丝能够获得的最大得分。

解题思路：

这是一道动态规划的题目，我们可以用 dp[i] 表示当前得分为 i 时，获胜的概率。那么我们可以得到以下状态转移方程：

dp[i] = (dp[i+1] + dp[i+2] + ... + dp[i+W]) / W

其中 W 为抽牌的最大点数，当 i + W > K 时，我们就可以停止抽牌了，因为此时已经可以获胜了。

最后我们只需要求出 dp[0] 即可。

解决方案：

```go
func new21Game(N int, K int, W int) float64 {
    dp := make([]float64, K+W)
    var sum float64
    for i := K; i < K+W; i++ {
        if i <= N {
            dp[i] = 1
        }
        sum += dp[i]
    }
    for i := K-1; i >= 0; i-- {
        dp[i] = sum / float64(W)
        sum += dp[i] - dp[i+W]
    }
    return dp[0]
}
```

算法复杂度：时间复杂度为 O(K+W)，空间复杂度为 O(K+W)。