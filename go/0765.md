题目编号：765

题目：情侣牵手

难度：困难

考察范围：贪心算法

题干：

N对情侣坐在连续排列的2N个座位上，标记为0到2N-1。每对情侣都可以坐在相邻的座位上。 

例如，如果座位是0、1、2、3，则情侣可以选择座位[0,1]、[0,2]、[1,2]或[2,3]。 

情侣们的目标是坐在相邻的座位上。 一对情侣的“距离”是他们当前座位之间的距离，例如，如果他们当前坐在座位[3,5]上，则距离为2。 

情侣们想最大限度地减少距离。 返回他们可能的最小距离之和。

示例 1:

输入: row = [0, 2, 1, 3]
输出: 1
解释: 我们只需要交换row[1]和row[2]的位置即可。

示例 2:

输入: row = [3, 2, 0, 1]
输出: 0
解释: 无需交换座位，所有情侣都已经可以手牵手了。

解题思路：

本题是一道贪心算法的题目，我们可以从第一个情侣开始，找到他的伴侣，然后将他们坐到相邻的位置上。接着，我们再找到下一个没有坐到相邻位置上的情侣，将他们坐到相邻位置上。以此类推，直到所有情侣都坐到相邻位置上。

解决方案：

```go
func minSwapsCouples(row []int) int {
    n := len(row)
    pos := make([]int, n)
    for i := 0; i < n; i++ {
        pos[row[i]] = i
    }
    ans := 0
    for i := 0; i < n; i += 2 {
        if row[i]^row[i+1] == 1 {
            continue
        }
        ans++
        x := row[i] ^ 1
        j := pos[x]
        row[i+1], row[j] = row[j], row[i+1]
        pos[row[j]], pos[x] = pos[x], i+1
    }
    return ans
}
```

算法复杂度：时间复杂度为O(n)，空间复杂度为O(n)。